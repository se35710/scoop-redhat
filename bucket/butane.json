{
    "homepage": "https://coreos.github.io/butane/",
    "description": "Butane translates human-readable Butane Configs into machine-readable Ignition Configs for provisioning operating systems that use Ignition.",
    "license": "Apache-2.0",
    "version": "0.26.0-1",
    "architecture": {
        "64bit": {
            "url": "https://mirror.openshift.com/pub/openshift-v4/clients/butane/v0.26.0-1/butane-windows-amd64.exe#/butane.exe",
            "hash": "b2b2e09e6235dce531f74865041ee0ec9e686ddf58b9557d996468178376665c"
        }
    },
    "bin": "butane.exe",
    "checkver": {
        "script": [
            "$page = Invoke-WebRequest -Uri 'https://mirror.openshift.com/pub/openshift-v4/clients/butane/' -UseBasicParsing",
            "$versions = $page.Content | Select-String -Pattern 'href=\"(v[\\d.]+-[\\d]+)/\"' -AllMatches | ForEach-Object { $_.Matches } | ForEach-Object { $_.Groups[1].Value -replace '^v', '' }",
            "$latest = $versions | Sort-Object { [version]($_ -replace '-.*$', '') } -Descending | Select-Object -First 1",
            "Write-Output $latest"
        ],
        "regex": "([\\d.]+-[\\d]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://mirror.openshift.com/pub/openshift-v4/clients/butane/v$version/butane-windows-amd64.exe#/butane.exe"
            }
        },
        "hash": {
            "url": "$baseurl/sha256sum.txt"
        }
    }
}
