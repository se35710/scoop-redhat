{
    "homepage": "https://www.openshift.com/learn/topics/pipelines",
    "description": "Helm is a software package manager that simplifies deployment of applications and services to OpenShift Container Platform clusters.",
    "license": "Apache-2.0",
    "version": "3.17.1",
    "architecture": {
        "64bit": {
            "url": "https://mirror.openshift.com/pub/openshift-v4/clients/helm/3.17.1/helm-windows-amd64.exe#/helm.exe",
            "hash": "8f4da66293b507a04980cf6c2fabe5954a76a3554e7de005070de2f07a3d10ed"
        }
    },
    "bin": "helm.exe",
    "checkver": {
        "script": [
            "$page = Invoke-WebRequest -Uri 'https://mirror.openshift.com/pub/openshift-v4/clients/helm/' -UseBasicParsing",
            "$versions = $page.Content | Select-String -Pattern '<span class=\"name\">(\\d+\\.\\d+\\.\\d+)</span>' -AllMatches | ForEach-Object { $_.Matches } | ForEach-Object { $_.Groups[1].Value }",
            "$latest = $versions | Sort-Object { [version]$_ } -Descending | Select-Object -First 1",
            "Write-Output $latest"
        ],
        "regex": "([\\d.]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://mirror.openshift.com/pub/openshift-v4/clients/helm/$version/helm-windows-amd64.exe#/helm.exe"
            }
        },
        "hash": {
            "url": "$baseurl/sha256sum.txt"
        }
    }
}
